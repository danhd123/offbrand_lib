<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>offbrand: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">offbrand
   </div>
   <div id="projectbrief">A collection of generic, reference counted datastructures in C for C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">offbrand Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>offbrand is a collection of reference counted generic data structures written in C for C. The library is intended to relieve the need to reimplement common data structures for the 1000th time, letting programmers focus on interesting app specific code. <br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="Requirements"></a>
Requirements</h1>
<p>offbrand requires the GNU toolchain, namely:</p>
<ul>
<li>GCC</li>
<li>make</li>
<li>glibc</li>
</ul>
<p>Any Linux distro or OS X with developer tools installed should be able to build the library with no issue. At this time Windows is not supported. If you would like to build the documentation for the project on your local machine then an additional requirement is the Doxygen package.</p>
<p><b>Knowledge Base: </b> While the library is not terribly complex to use or understand, you should be comfortable with incomplete types, typecasting, and reference counted memory management to get the most out of offbrand.</p>
<p><br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="Installation"></a>
Installation</h1>
<p>To build the library on your machine clone the git repository and run make: </p>
<div class="fragment"><div class="line">$ git clone https:<span class="comment">//github.com/theck01/offbrand_lib.git</span></div>
<div class="line">$ cd offbrand_lib</div>
<div class="line">$ make test</div>
</div><!-- fragment --><p>Use the header files in the include/ subdirectory, and when compiling your app link with needed object files found in the bin/class/ subdirectory. <br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="Overview"></a>
Overview</h1>
<p><em>NOTE</em>: The phrase "class" is used in the documentation to refer to a C style approximation of a class built from an incomplete type rather than a true class in a language like Java or Obj-C.</p>
<p>offbrand is based on a section of the C standard that dictates that all structs be memory alligned. This enables a struct A, which has struct B as it's first element, to be typecast to struct B without data corruption. A contrived example of struct allignment in action:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>B {</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>A {</div>
<div class="line">  <span class="keyword">struct </span>B element_b;</div>
<div class="line">  <span class="keywordtype">int</span> j;</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">struct </span>A *thing_a = malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> A)); </div>
<div class="line">thing_a-&gt;element_b.i = 10;</div>
<div class="line"></div>
<div class="line"><span class="comment">// A perfectly valid cast. You loose some information but now struct A can be</span></div>
<div class="line"><span class="comment">// considered to be struct B if the need arises</span></div>
<div class="line"><span class="keyword">struct </span>B *thing_b = (<span class="keyword">struct </span>B *)thing_a;</div>
<div class="line"></div>
<div class="line"><span class="comment">// thing_b-&gt;i evaluates to 10</span></div>
<div class="line">thing_b-&gt;i; </div>
</div><!-- fragment --><p>In offbrand struct A is any of the offbrand classes and struct B is a special structure, "obj".</p>
<p>An obj ("object") encapsulates data common to all classes: a reference count, pointers to class specific versions of common functions, and a class name. obj is the generic type of the library, and casts from class pointers to obj pointers and back is common theme within offbrand code.</p>
<p>A standard library exists that operates exclusively on obj pointers. This basis allows any class instances to be compared, hashed, retained, released, etc. These functions call the class specific versions of each function, if they exist, hiding large numbers of class specific functions behind a small suite of common functions. <br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="FileStructure"></a>
File Structure</h1>
<p>An offbrand compatible class (or builtin class) is split across 5 different files:</p>
<h2><a class="anchor" id="DocumentationFile"></a>
Documentation File</h2>
<p>An optional file that serves to provide doxygen documentation for the general functionallity of the class. These files will be found in the docs/doxygen/ subdirectory of the library for builtin classes.</p>
<h2><a class="anchor" id="PublicHeader"></a>
Public Header</h2>
<p>Contains all functions operating on the class that are publicly accessable to call anywhere in any program. These files will be found in the include/ subdirectory of the library for builtin classes.</p>
<h2><a class="anchor" id="PrivateHeader"></a>
Private Header</h2>
<p>Containing all functions operating on the class that should not be called directly by other programs, in most circumstances, and the definitions of all data encapsulated by the class. Builtin private headers can be found in the include/private/ subdirectory.</p>
<h2><a class="anchor" id="SourceFile"></a>
Source File</h2>
<p>Contains the implementation of all functions operating on the class, public and private. Source files for builtin classes can be be found in the src/classes/ subdirectory.</p>
<h2><a class="anchor" id="UnitTestFile"></a>
Unit Test File</h2>
<p>An optional file, contains unit tests used to verify proper functionallity of the class. Test files can be found in the src/tests/ subdirectory. <br/>
<br/>
</p>
<p>The mkobc bash script, included in the scripts/ subdirectory, generates these five files with compatiblilty boilerplate. The documentation and test files can be discarded, but the two headers and source file are essential for any offbrand class compatible class. Comments included in the generated files explain why boilerplate code is included and what should and should not be altered. <br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="Documentation"></a>
Documentation</h1>
<p>The API references for classes can be found at this location, under Modules. The documentation for each class is broken down by file. The public header documentation outlines the entire public API for each class, and should have all of the information required to use offbrand with standard applications. Any apps that will extend or modify the library builtins may benefit from the private header documentation, where the structure of the classes data and private functions are documented.</p>
<p>This Doxygen documentation can be built locally if the system has the doxygen package installed. From the base project directory: </p>
<div class="fragment"><div class="line">$ cd docs</div>
<div class="line">$ doxygen doxygen.conf</div>
</div><!-- fragment --><p>After building documentation it can be accessed in the docs/html/ subdirectory <br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="Examples"></a>
Examples</h1>
<p>A example applications can be found in the app/ subdirectory. These applications serve two purposes, proofs of that the library works as expected and examples for how the offbrand library can be used within an application. <br/>
<br/>
<br/>
</p>
<h1><a class="anchor" id="Contributing"></a>
Contributing</h1>
<p>Clone, fork, submit issues and pull requests on github: <a href="https://github.com/theck01/offbrand_lib">https://github.com/theck01/offbrand_lib</a> <br/>
<br/>
<br/>
 </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Mar 20 2013 23:01:19 for offbrand by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
